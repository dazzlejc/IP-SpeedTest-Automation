# IP Speed Test Automation (IPæµ‹é€Ÿè‡ªåŠ¨åŒ–å·¥å…·)

<div align="center">

![GitHub license](https://img.shields.io/github/license/dazzlejc/IP-SpeedTest-Automation)
![GitHub stars](https://img.shields.io/github/stars/dazzlejc/IP-SpeedTest-Automation?style=social)
![GitHub forks](https://img.shields.io/github/forks/dazzlejc/IP-SpeedTest-Automation?style=social)

ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„IPæµ‹é€Ÿå·¥å…·ï¼Œæ”¯æŒæ‰¹é‡IPå»¶è¿Ÿæµ‹è¯•ã€ä¸‹è½½é€Ÿåº¦æµ‹è¯•ã€åœ°ç†ä½ç½®è¯†åˆ«å’Œç»“æœåˆ†æ

[åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹) â€¢ [ä½¿ç”¨æŒ‡å—](#ä½¿ç”¨æŒ‡å—) â€¢ [APIæ–‡æ¡£](#apiæ–‡æ¡£) â€¢ [è´¡çŒ®æŒ‡å—](#è´¡çŒ®æŒ‡å—)

</div>

## ğŸ“‹ ç›®å½•

- [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)
- [ç¯å¢ƒè¦æ±‚](#ç¯å¢ƒè¦æ±‚)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [è¯¦ç»†ä½¿ç”¨æŒ‡å—](#è¯¦ç»†ä½¿ç”¨æŒ‡å—)
- [é…ç½®è¯´æ˜](#é…ç½®è¯´æ˜)
- [è¾“å‡ºæ ¼å¼](#è¾“å‡ºæ ¼å¼)
- [APIé›†æˆ](#apié›†æˆ)
- [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)
- [è´¡çŒ®æŒ‡å—](#è´¡çŒ®æŒ‡å—)
- [è®¸å¯è¯](#è®¸å¯è¯)

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸš€ æ ¸å¿ƒåŠŸèƒ½
- **æ‰¹é‡IPæµ‹è¯•**: æ”¯æŒå¤§è§„æ¨¡IPåœ°å€å¹¶å‘æµ‹è¯•
- **å»¶è¿Ÿæ£€æµ‹**: TCPè¿æ¥å»¶è¿Ÿæµ‹è¯•ï¼Œæ”¯æŒé˜ˆå€¼è¿‡æ»¤
- **ä¸‹è½½æµ‹é€Ÿ**: å¤šçº¿ç¨‹ä¸‹è½½é€Ÿåº¦æµ‹è¯•ï¼Œå¯é…ç½®æµ‹é€Ÿæ–‡ä»¶
- **åœ°ç†ä½ç½®è¯†åˆ«**: è‡ªåŠ¨è·å–IPåœ°ç†ä½ç½®ä¿¡æ¯ï¼ˆæ”¯æŒä¸­è‹±æ–‡ï¼‰
- **äº¤äº’å¼ç•Œé¢**: å‹å¥½çš„å‘½ä»¤è¡Œäº¤äº’ç•Œé¢
- **æ‰¹é‡å¤„ç†**: æ”¯æŒæ–‡ä»¶é¢„å¤„ç†å’Œæ ¼å¼è½¬æ¢

### ğŸ› ï¸ é«˜çº§ç‰¹æ€§
- **æ™ºèƒ½è¿‡æ»¤**: å»¶è¿Ÿé˜ˆå€¼å’Œé€Ÿåº¦é˜ˆå€¼åŒé‡è¿‡æ»¤
- **å¤šåè®®æ”¯æŒ**: HTTP/HTTPSåè®®åˆ‡æ¢
- **ç»“æœå¯¼å‡º**: CSVæ ¼å¼è¯¦ç»†ç»“æœå¯¼å‡º
- **APIé›†æˆ**: æ”¯æŒç»“æœä¸Šä¼ åˆ°è‡ªå®šä¹‰API
- **è·¨å¹³å°**: Windowsã€Linuxã€macOSå…¨å¹³å°æ”¯æŒ
- **å®æ—¶ç›‘æ§**: æµ‹è¯•è¿›åº¦å®æ—¶æ˜¾ç¤º

## ğŸ”§ ç¯å¢ƒè¦æ±‚

### ç³»ç»Ÿè¦æ±‚
- **æ“ä½œç³»ç»Ÿ**: Windows 10+, Linux (Ubuntu 18.04+), macOS 10.15+
- **å†…å­˜**: æœ€å°‘512MBï¼Œæ¨è1GB+
- **ç½‘ç»œ**: ç¨³å®šçš„äº’è”ç½‘è¿æ¥

### è¿è¡Œç¯å¢ƒä¾èµ–
```bash
# Goç¯å¢ƒ (ç”¨äºç¼–è¯‘ä¸»ç¨‹åº)
go version 1.18+  # å¿…éœ€

# Node.jsç¯å¢ƒ (ç”¨äºè¾…åŠ©è„šæœ¬)
node version 14+   # å¯é€‰ï¼Œç”¨äºæ–‡ä»¶é¢„å¤„ç†
npm version 6+     # å¯é€‰

# ç³»ç»Ÿå·¥å…·
git               # ç”¨äºä»£ç ç®¡ç†
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†ä»“åº“
```bash
git clone https://github.com/dazzlejc/IP-SpeedTest-Automation.git
cd IP-SpeedTest-Automation
```

### 2. å®‰è£…ä¾èµ–
```bash
# å®‰è£…Goä¾èµ–
go mod tidy

# å®‰è£…Node.jsä¾èµ– (å¯é€‰)
npm install
```

### 3. ç¼–è¯‘ç¨‹åº
```bash
# ç¼–è¯‘ä¸»ç¨‹åº
go build -o iptest iptest.go

# æˆ–è€…ç›´æ¥è¿è¡Œ
go run iptest.go
```

### 4. å¿«é€Ÿæµ‹è¯•
```bash
# äº¤äº’å¼è¿è¡Œ (æ¨è)
./iptest

# æˆ–è€…å‘½ä»¤è¡Œæ¨¡å¼
./iptest -file=ip.txt -outfile=result.csv
```

## ğŸ“– è¯¦ç»†ä½¿ç”¨æŒ‡å—

### äº¤äº’å¼æ¨¡å¼ (æ¨è)

ç›´æ¥è¿è¡Œç¨‹åºè¿›å…¥äº¤äº’å¼ç•Œé¢ï¼š

```bash
./iptest
```

äº¤äº’å¼èœå•æä¾›ä»¥ä¸‹é€‰é¡¹ï¼š
```
=== IPæµ‹é€Ÿå·¥å…· ===
1. æ‰«ææœ¬åœ°æ–‡ä»¶æµ‹é€Ÿ
2. ä»APIä¸‹è½½æµ‹é€Ÿ
3. ä¸Šä¼ æµ‹é€Ÿç»“æœ
4. æµ‹é€Ÿå‚æ•°è®¾ç½®
5. é€€å‡º
```

### å‘½ä»¤è¡Œæ¨¡å¼

#### åŸºç¡€å‘½ä»¤
```bash
# åŸºæœ¬æµ‹è¯•
./iptest -file=ip.txt -outfile=result.csv

# å¯ç”¨ä¸‹è½½æµ‹é€Ÿ
./iptest -file=ip.txt -outfile=result.csv -speedtest=10

# è®¾ç½®å»¶è¿Ÿé˜ˆå€¼
./iptest -file=ip.txt -outfile=result.csv -delay=150

# ç¦ç”¨TLS
./iptest -file=ip.txt -outfile=result.csv -tls=false
```

#### å‚æ•°è¯´æ˜

| å‚æ•° | é»˜è®¤å€¼ | è¯´æ˜ |
|------|--------|------|
| `-file` | `ip.txt` | IPåœ°å€æ–‡ä»¶è·¯å¾„ï¼Œæ ¼å¼ä¸ºæ¯è¡Œ `IP ç«¯å£` |
| `-outfile` | `ip.csv` | è¾“å‡ºCSVæ–‡ä»¶è·¯å¾„ |
| `-max` | `100` | æœ€å¤§å¹¶å‘åç¨‹æ•° |
| `-speedtest` | `5` | ä¸‹è½½æµ‹é€Ÿåç¨‹æ•°é‡ï¼Œè®¾ä¸º`0`ç¦ç”¨æµ‹é€Ÿ |
| `-url` | `speed.cloudflare.com/__down?bytes=500000000` | æµ‹é€Ÿæ–‡ä»¶åœ°å€ |
| `-tls` | `true` | æ˜¯å¦å¯ç”¨TLS (`true`=HTTPS, `false`=HTTP) |
| `-delay` | `300` | å»¶è¿Ÿé˜ˆå€¼(æ¯«ç§’)ï¼Œè¶…è¿‡æ­¤å€¼çš„IPå°†è¢«è¿‡æ»¤ |
| `-speedthreshold` | `3.0` | é€Ÿåº¦é˜ˆå€¼(MB/s)ï¼Œä½äºæ­¤å€¼çš„IPå°†è¢«è¿‡æ»¤ |
| `-upload` | `""` | ä¸Šä¼ APIåœ°å€ï¼Œç•™ç©ºåˆ™ä¸ä¸Šä¼  |
| `-token` | `""` | ä¸Šä¼ APIè®¤è¯ä»¤ç‰Œ |

### Node.jsè¾…åŠ©è„šæœ¬

#### æ–‡ä»¶é¢„å¤„ç†
```bash
# é¢„å¤„ç†æ–‡ä»¶ï¼Œæ ¼å¼åŒ–å¹¶å»é‡
node ip_preprocess.js input.txt output.txt

# æ‰¹é‡è·å–åˆå§‹IP
node ip_init.js

# æå–æœ‰æ•ˆIP
node ip_tq.js
```

#### æ•°æ®å¤„ç†
```bash
# åˆå¹¶CSVæ–‡ä»¶
node csv_hb.js init.csv file1.csv file2.csv

# åˆå¹¶ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶
node csv_hb.js init.csv ./ip_directory
```

## âš™ï¸ é…ç½®è¯´æ˜

### IPæ–‡ä»¶æ ¼å¼

æ”¯æŒçš„è¾“å…¥æ ¼å¼ï¼š
```
# æ ‡å‡†æ ¼å¼ (æ¨è)
1.1.1.1 443
2.2.2.2 2053

# IP:ç«¯å£æ ¼å¼
3.3.3.3:8443

# å¸¦æ³¨é‡Šæ ¼å¼
4.4.4.4 443  # è¿™æ˜¯ä¸€ä¸ªæ³¨é‡Š
```

### é…ç½®æ–‡ä»¶

ç¨‹åºä¼šè‡ªåŠ¨ä¸‹è½½åœ°ç†ä½ç½®æ•°æ®æ–‡ä»¶ `locations.json`ï¼ŒåŒ…å«ï¼š
- æœºåœºä»£ç æ˜ å°„
- åœ°ç†ä½ç½®ä¿¡æ¯
- å¤šè¯­è¨€æ”¯æŒ
- å›½æ——emoji

### æ€§èƒ½è°ƒä¼˜å»ºè®®

```bash
# é«˜å¹¶å‘æµ‹è¯• (æ¨èé…ç½®)
./iptest -max=200 -speedtest=20 -delay=200

# å¿«é€Ÿç­›é€‰ (ä»…å»¶è¿Ÿæµ‹è¯•)
./iptest -speedtest=0 -delay=150

# ç²¾ç¡®æµ‹é€Ÿ (ä½å¹¶å‘é«˜ç²¾åº¦)
./iptest -max=50 -speedtest=10 -speedthreshold=5.0
```

## ğŸ“Š è¾“å‡ºæ ¼å¼

### CSVè¾“å‡ºå­—æ®µ

| å­—æ®µ | è¯´æ˜ |
|------|------|
| IPåœ°å€ | æµ‹è¯•çš„IPåœ°å€ |
| ç«¯å£ | æµ‹è¯•çš„ç«¯å£å· |
| TLS | æ˜¯å¦å¯ç”¨TLSè¿æ¥ |
| æ•°æ®ä¸­å¿ƒ | Cloudflareæ•°æ®ä¸­å¿ƒä»£ç  |
| æºIPä½ç½® | æºIPä½ç½®ä»£ç  |
| åœ°åŒº | åœ°åŒºåç§° (è‹±æ–‡) |
| åŸå¸‚ | åŸå¸‚åç§° (è‹±æ–‡) |
| åœ°åŒº(ä¸­æ–‡) | åœ°åŒºåç§° (ä¸­æ–‡) |
| å›½å®¶ | å›½å®¶åç§° (è‹±æ–‡) |
| åŸå¸‚(ä¸­æ–‡) | åŸå¸‚åç§° (ä¸­æ–‡) |
| å›½æ—— | å›½å®¶å›½æ——emoji |
| ç½‘ç»œå»¶è¿Ÿ | TCPè¿æ¥å»¶è¿Ÿ (æ¯«ç§’) |
| ä¸‹è½½é€Ÿåº¦(MB/s) | ä¸‹è½½é€Ÿåº¦ (å¯ç”¨æµ‹é€Ÿæ—¶) |

### ç¤ºä¾‹è¾“å‡º
```csv
IPåœ°å€,ç«¯å£,TLS,æ•°æ®ä¸­å¿ƒ,æºIPä½ç½®,åœ°åŒº,åŸå¸‚,åœ°åŒº(ä¸­æ–‡),å›½å®¶,åŸå¸‚(ä¸­æ–‡),å›½æ——,ç½‘ç»œå»¶è¿Ÿ,ä¸‹è½½é€Ÿåº¦(MB/s)
1.1.1.1,443,true,SIN,SIN,Asia Pacific,Singapore,äºšå¤ªåœ°åŒº,Singapore,æ–°åŠ å¡ğŸ‡¸ğŸ‡¬,85,25.67
2.2.2.2,2053,true,HKG,HKG,Asia Pacific,Hong Kong,äºšå¤ªåœ°åŒº,Hong Kong,é¦™æ¸¯ğŸ‡­ğŸ‡°,92,18.34
```

## ğŸ”Œ APIé›†æˆ

### ä¸Šä¼ æµ‹é€Ÿç»“æœ

ç¨‹åºæ”¯æŒå°†æµ‹é€Ÿç»“æœä¸Šä¼ åˆ°è‡ªå®šä¹‰APIï¼š

```bash
# é…ç½®ä¸Šä¼ API
./iptest -upload="https://your-api.com/upload" -token="your-token"
```

### ä¸Šä¼ æ ¼å¼

ä¸Šä¼ æ•°æ®æ ¼å¼ä¸ºçº¯æ–‡æœ¬ï¼Œæ¯è¡Œä¸€ä¸ªIPï¼š
```
IP:ç«¯å£#åŸå¸‚(ä¸­æ–‡)
1.1.1.1:443#æ–°åŠ å¡ğŸ‡¸ğŸ‡¬
2.2.2.2:2053#é¦™æ¸¯ğŸ‡­ğŸ‡°
```

### APIè¦æ±‚

- **æ–¹æ³•**: POST
- **Content-Type**: text/plain; charset=utf-8
- **è®¤è¯**: Bearer Token (å¯é€‰)
- **å“åº”**: 2xxçŠ¶æ€ç è¡¨ç¤ºæˆåŠŸ

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. ç¼–è¯‘é”™è¯¯
```bash
# ç¡®ä¿Goç‰ˆæœ¬æ­£ç¡®
go version

# æ¸…ç†æ¨¡å—ç¼“å­˜
go clean -modcache
go mod download
```

#### 2. ç½‘ç»œè¿æ¥é—®é¢˜
```bash
# æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
# ç¡®ä¿èƒ½è®¿é—® cloudflare.com

# æµ‹è¯•åŸºç¡€è¿æ¥
ping 1.1.1.1
```

#### 3. æ–‡ä»¶æƒé™é—®é¢˜
```bash
# Linux/macOS
chmod +x iptest

# ç¡®ä¿æœ‰å†™å…¥æƒé™
ls -la locations.json
```

#### 4. å†…å­˜ä¸è¶³
```bash
# å‡å°‘å¹¶å‘æ•°
./iptest -max=50 -speedtest=2

# ç¦ç”¨ä¸‹è½½æµ‹é€Ÿ
./iptest -speedtest=0
```

### è°ƒè¯•æ¨¡å¼

å¯ç”¨è¯¦ç»†è¾“å‡ºï¼š
```bash
# æŸ¥çœ‹å½“å‰è®¾ç½®
./iptest
# é€‰æ‹©é€‰é¡¹4æŸ¥çœ‹å½“å‰é…ç½®

# æµ‹è¯•å•ä¸ªIP
echo "1.1.1.1 443" > test.txt
./iptest -file=test.txt -max=1 -speedtest=1
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼

### è´¡çŒ®æ–¹å¼

1. **æŠ¥å‘Šé—®é¢˜**: åœ¨[Issues](https://github.com/dazzlejc/IP-SpeedTest-Automation/issues)ä¸­æŠ¥å‘Šbug
2. **åŠŸèƒ½å»ºè®®**: æå‡ºæ–°åŠŸèƒ½å»ºè®®
3. **ä»£ç è´¡çŒ®**: æäº¤Pull Request
4. **æ–‡æ¡£æ”¹è¿›**: æ”¹è¿›æ–‡æ¡£å’Œç¤ºä¾‹

### å¼€å‘æµç¨‹

1. Forké¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯: `git checkout -b feature/AmazingFeature`
3. æäº¤æ›´æ”¹: `git commit -m 'Add some AmazingFeature'`
4. æ¨é€åˆ†æ”¯: `git push origin feature/AmazingFeature`
5. æäº¤Pull Request

### ä»£ç è§„èŒƒ

- Goä»£ç éµå¾ªæ ‡å‡†Goæ ¼å¼åŒ–è§„èŒƒ
- JavaScriptä»£ç ä½¿ç”¨Prettieræ ¼å¼åŒ–
- æäº¤ä¿¡æ¯ä½¿ç”¨çº¦å®šå¼æäº¤æ ¼å¼
- æ·»åŠ é€‚å½“çš„æ³¨é‡Šå’Œæ–‡æ¡£

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ **GNU General Public License v3.0** è®¸å¯è¯ã€‚

<div align="center">

### ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®å’Œè´¡çŒ®è€…ï¼š

- **åŸé¡¹ç›®**: [Kwisma/iptest](https://github.com/Kwisma/iptest) - æœ¬é¡¹ç›®åŸºäºåŸé¡¹ç›®è¿›è¡Œæ”¹è¿›å’Œæ‰©å±•
- [Cloudflare](https://www.cloudflare.com/) - æä¾›ä¼˜ç§€çš„CDNæœåŠ¡
- [XIU2](https://github.com/XIU2) - åŸå§‹é¡¹ç›®çµæ„Ÿæ¥æº
- [yutian81](https://github.com/yutian81) - å»¶è¿Ÿè¿‡æ»¤åŠŸèƒ½å‚è€ƒ

ç‰¹åˆ«æ„Ÿè°¢åŸé¡¹ç›®ä½œè€… **Kwisma** æä¾›çš„ä¼˜ç§€ä»£ç åŸºç¡€ï¼Œæœ¬é¡¹ç›®åœ¨æ­¤åŸºç¡€ä¸Šå¢åŠ äº†äº¤äº’å¼ç•Œé¢ã€APIé›†æˆã€æ€§èƒ½ä¼˜åŒ–ç­‰åŠŸèƒ½æ”¹è¿›ã€‚

### ğŸ“ è”ç³»æ–¹å¼

- é¡¹ç›®ä¸»é¡µ: [https://github.com/dazzlejc/IP-SpeedTest-Automation](https://github.com/dazzlejc/IP-SpeedTest-Automation)
- é—®é¢˜åé¦ˆ: [Issues](https://github.com/dazzlejc/IP-SpeedTest-Automation/issues)

---

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª â­ Starï¼**

</div>